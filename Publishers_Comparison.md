# æ•°æ®å‘é€å™¨å¯¹æ¯”è¯´æ˜

æœ¬é¡¹ç›®ç°åœ¨åŒ…å«å¤šä¸ªä¸åŒç”¨é€”çš„æ•°æ®å‘é€å™¨ï¼Œæ¯ä¸ªéƒ½æœ‰ç‰¹å®šçš„åº”ç”¨åœºæ™¯ã€‚

## ğŸ“Š å‘é€å™¨æ€»è§ˆ

### 1. **sender.cpp** (åŸå§‹C++å‘é€å™¨)
```bash
./sender <æ•°æ®æ–‡ä»¶å¤¹è·¯å¾„> [æ˜¯å¦å¾ªç¯:true|false]
```

**æ•°æ®ç±»å‹**: å¤šé€šé“é‡‡æ ·æ•°æ® (ç±»ä¼¼å£°å­¦é˜µåˆ—æ•°æ®)
- **æ ¼å¼**: äºŒè¿›åˆ¶æ•°æ® (4096å­—èŠ‚/åŒ…)
- **å†…å®¹**: 128é€šé“ Ã— 8é‡‡æ ·ç‚¹ Ã— float32
- **æ¨¡å¼**: ZeroMQ PUSH 
- **ç”¨é€”**: å‘é€é¢„å½•åˆ¶çš„äºŒè¿›åˆ¶é‡‡æ ·æ•°æ®

### 2. **sender_data_publisher.py** (æ¨¡æ‹Ÿsender.cpp)
```bash
python3 sender_data_publisher.py --mode normal
```

**æ•°æ®ç±»å‹**: æ¨¡æ‹Ÿå¤šé€šé“é‡‡æ ·æ•°æ®
- **æ ¼å¼**: äºŒè¿›åˆ¶æ•°æ® (4096å­—èŠ‚/åŒ…)
- **å†…å®¹**: 128é€šé“ Ã— 8é‡‡æ ·ç‚¹ Ã— float32 (æ¨¡æ‹Ÿç”Ÿæˆ)
- **æ¨¡å¼**: ZeroMQ PUSH
- **ç”¨é€”**: ç”Ÿæˆä¸sender.cppæ ¼å¼å…¼å®¹çš„æ¨¡æ‹Ÿé‡‡æ ·æ•°æ®

### 3. **simple_sensor_publisher.py** (å›¾è¡¨æ˜¾ç¤ºä¸“ç”¨)
```bash
python3 simple_sensor_publisher.py --mode normal
```

**æ•°æ®ç±»å‹**: ä¼ æ„Ÿå™¨æ•°æ® (æ¸©åº¦/æ¹¿åº¦)
- **æ ¼å¼**: JSONå­—ç¬¦ä¸²
- **å†…å®¹**: æ¸©åº¦å’Œæ¹¿åº¦æ•°å€¼
- **æ¨¡å¼**: ZeroMQ PUSH
- **ç”¨é€”**: **ä¸ºSensorMonitorAppå›¾è¡¨æä¾›æ•°æ®**

### 4. **sensor_data_publisher.py** (åŸå§‹ç‰ˆæœ¬)
```bash
python3 sensor_data_publisher.py
```

**æ•°æ®ç±»å‹**: ä¼ æ„Ÿå™¨æ•°æ®
- **æ ¼å¼**: JSONå­—ç¬¦ä¸²  
- **å†…å®¹**: æ¸©åº¦å’Œæ¹¿åº¦æ•°å€¼
- **æ¨¡å¼**: ZeroMQ PUB (æ—§ç‰ˆæœ¬)
- **ç”¨é€”**: å…¼å®¹æ€§ä¿ç•™

### 5. **advanced_sensor_publisher.py** (é«˜çº§ç‰ˆæœ¬)
```bash
python3 advanced_sensor_publisher.py --mode normal
```

**æ•°æ®ç±»å‹**: ä¼ æ„Ÿå™¨æ•°æ®
- **æ ¼å¼**: JSONå­—ç¬¦ä¸²
- **å†…å®¹**: æ¸©åº¦å’Œæ¹¿åº¦æ•°å€¼  
- **æ¨¡å¼**: ZeroMQ PUB (æ—§ç‰ˆæœ¬)
- **ç”¨é€”**: é«˜çº§åŠŸèƒ½å’Œé…ç½®é€‰é¡¹

## ğŸ¯ **æ¨èä½¿ç”¨æ–¹æ¡ˆ**

### ä¸ºå›¾è¡¨æ˜¾ç¤ºå‘é€æ•°æ®
**ä½¿ç”¨**: `simple_sensor_publisher.py`
```bash
# å¯åŠ¨æ¥æ”¶ç«¯
./SensorMonitor

# å¯åŠ¨æ•°æ®å‘é€ (å¦ä¸€ä¸ªç»ˆç«¯)
python3 simple_sensor_publisher.py --mode normal --interval 0.1
```

### æµ‹è¯•å¤šé€šé“æ•°æ®å¤„ç†
**ä½¿ç”¨**: `sender_data_publisher.py`
```bash
python3 sender_data_publisher.py --mode sine --interval 0.00355
```

### å‘é€çœŸå®äºŒè¿›åˆ¶æ•°æ®
**ä½¿ç”¨**: `sender.cpp`
```bash
./sender ./data_folder true
```

## ğŸ“‹ **æ•°æ®æ ¼å¼å¯¹æ¯”**

| å‘é€å™¨ | æ•°æ®æ ¼å¼ | å¤§å° | å†…å®¹ | ZeroMQæ¨¡å¼ |
|--------|----------|------|------|------------|
| sender.cpp | äºŒè¿›åˆ¶ | 4096å­—èŠ‚ | 128é€šé“é‡‡æ ·æ•°æ® | PUSH |
| sender_data_publisher.py | äºŒè¿›åˆ¶ | 4096å­—èŠ‚ | æ¨¡æ‹Ÿ128é€šé“æ•°æ® | PUSH |
| simple_sensor_publisher.py | JSON | ~200å­—èŠ‚ | æ¸©åº¦+æ¹¿åº¦ | PUSH |
| sensor_data_publisher.py | JSON | ~200å­—èŠ‚ | æ¸©åº¦+æ¹¿åº¦ | PUB |
| advanced_sensor_publisher.py | JSON | ~250å­—èŠ‚ | æ¸©åº¦+æ¹¿åº¦+å…ƒæ•°æ® | PUB |

## ğŸ”„ **ZeroMQæ¨¡å¼è¯´æ˜**

### PUSH-PULLæ¨¡å¼ (æ¨è)
- **å‘é€ç«¯**: PUSH socket
- **æ¥æ”¶ç«¯**: PULL socket  
- **ç‰¹ç‚¹**: è´Ÿè½½å‡è¡¡ã€å¯é ä¼ è¾“
- **é€‚ç”¨**: sender.cpp, sender_data_publisher.py, simple_sensor_publisher.py

### PUB-SUBæ¨¡å¼ (å…¼å®¹æ€§)
- **å‘é€ç«¯**: PUB socket
- **æ¥æ”¶ç«¯**: SUB socket
- **ç‰¹ç‚¹**: å‘å¸ƒ-è®¢é˜…ã€å¯èƒ½ä¸¢åŒ…
- **é€‚ç”¨**: sensor_data_publisher.py, advanced_sensor_publisher.py

## ğŸ“ˆ **sender.cpp å…·ä½“æ•°æ®æ ¼å¼**

### æ•°æ®ç»“æ„
```
æ¯ä¸ªæ•°æ®åŒ… = 4096å­—èŠ‚
â”œâ”€â”€ Channel 0: 32å­—èŠ‚ (8ä¸ªfloat32é‡‡æ ·ç‚¹)
â”œâ”€â”€ Channel 1: 32å­—èŠ‚ (8ä¸ªfloat32é‡‡æ ·ç‚¹)  
â”œâ”€â”€ ...
â””â”€â”€ Channel 127: 32å­—èŠ‚ (8ä¸ªfloat32é‡‡æ ·ç‚¹)
```

### å†…å­˜å¸ƒå±€
```c++
struct DataPacket {
    float samples[128][8];  // 128é€šé“ Ã— 8é‡‡æ ·ç‚¹
};
// æ€»å¤§å°: 128 Ã— 8 Ã— 4 = 4096å­—èŠ‚
```

### å‘é€å‚æ•°
- **é‡‡æ ·ç‡**: 22500 Hz
- **æ¯åŒ…é‡‡æ ·ç‚¹**: 8ä¸ª
- **å‘é€é¢‘ç‡**: 2812.5åŒ…/ç§’
- **å‘é€é—´éš”**: ~355å¾®ç§’

## ğŸ’¡ **ä½¿ç”¨å»ºè®®**

1. **å›¾è¡¨æ˜¾ç¤º**: ä½¿ç”¨`simple_sensor_publisher.py`
2. **å¤šé€šé“æµ‹è¯•**: ä½¿ç”¨`sender_data_publisher.py`  
3. **çœŸå®æ•°æ®**: ä½¿ç”¨`sender.cpp`
4. **å¼€å‘è°ƒè¯•**: ä»»é€‰JSONæ ¼å¼å‘é€å™¨

æ‰€æœ‰å‘é€å™¨éƒ½å…¼å®¹æ›´æ–°åçš„SensorMonitorAppæ¥æ”¶ç³»ç»Ÿï¼